<html><head><title>Demonstration for &ldquo;Moving Window Auto-Regression&rdquo;</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="Rchm.css">
</head>
<body>

<table width="100%"><tr><td>mwar.ani(animation)</td><td align="right">R Documentation</td></tr></table><object type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e">
<param name="keyword" value="R:   mwar.ani">
<param name="keyword" value=" Demonstration for &ldquo;Moving Window Auto-Regression&rdquo;">
</object>


<h2>Demonstration for &ldquo;Moving Window Auto-Regression&rdquo;</h2>


<h3>Description</h3>

<p>
This function just fulfills a very naive idea about moving window regression using rectangles to denote the ``windows'' and move them, and the corresponding AR(1) coefficients as long as rough confidence intervals are computed for data points inside the ``windows'' during the process of moving.
</p>


<h3>Usage</h3>

<pre>
mwar.ani(x, k = 15, conf = 2, mat = matrix(1:2,
    2), widths = rep(1, ncol(mat)), heights = rep(1, nrow(mat)),
    lty.rect = 2, ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
univariate time-series (a single numerical vector); default to be <code>sin(seq(0, 2 * pi, length = 50)) + rnorm(50, sd = 0.2)</code> </td></tr>
<tr valign="top"><td><code>k</code></td>
<td>
an integer of the window width </td></tr>
<tr valign="top"><td><code>conf</code></td>
<td>
a positive number: the confidence intervals are computed as [ar1 - conf*s.e., ar1 + conf*s.e.] </td></tr>
<tr valign="top"><td><code>mat, widths, heights</code></td>
<td>
arguments passed to <code><a onclick="findlink('graphics', 'layout.html')" style="text-decoration: underline; color: blue; cursor: hand">layout</a></code> to divide the device into 2 parts </td></tr>
<tr valign="top"><td><code>lty.rect</code></td>
<td>
the line type of the rectangles respresenting the moving ``windows'' </td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
other arguments passed to <code><a onclick="findlink('graphics', 'points.html')" style="text-decoration: underline; color: blue; cursor: hand">points</a></code> in the bottom plot (the centers of the arrows) </td></tr>
</table>

<h3>Details</h3>

<p>
The AR(1) coefficients are computed by <code><a onclick="findlink('stats', 'arima.html')" style="text-decoration: underline; color: blue; cursor: hand">arima</a></code>.
</p>


<h3>Value</h3>

<p>
A list containing 
</p>
<table summary="R argblock">
<tr valign="top"><td><code>phi </code></td>
<td>
the AR(1) coefficients</td></tr>
<tr valign="top"><td><code>L </code></td>
<td>
lower bound of the confidence interval</td></tr>
<tr valign="top"><td><code>U </code></td>
<td>
upper bound of the confidence interval</td></tr>
</table>

<h3>Author(s)</h3>

<p>
Yihui Xie
</p>


<h3>References</h3>

<p>
Robert A. Meyer, Jr. Estimating coefficients that change over time. <EM>International Economic Review</EM>, 13(3):705-710, 1972.
</p>
<p>
<a href="http://animation.yihui.name/ts:moving_window_ar">http://animation.yihui.name/ts:moving_window_ar</a>
</p>


<h3>See Also</h3>

<p>
<code><a onclick="findlink('stats', 'arima.html')" style="text-decoration: underline; color: blue; cursor: hand">arima</a></code>
</p>


<h3>Examples</h3>

<pre>
# moving window along a sin curve 
oopt = ani.options(interval = 0.1, nmax = 50)
op = par(mar = c(2, 3, 1, 0.5), mgp = c(1.5, 0.5, 0))
mwar.ani(lty.rect = 3, pch = 21, col = "red", bg = "yellow",type='o')

# for the data 'pageview'
ani.options(interval = 0.1, nmax = 50)
data(pageview)
mwar.ani(pageview$visits, k = 30)

par(op)
## Not run:  

# HTML animation page
ani.options(ani.height = 500, ani.width = 600, outdir = getwd(), nmax = 50,
    title = "Demonstration of Moving Window Auto-Regression",
    description = "Compute the AR(1) coefficient for the data in the
    window and plot the confidence intervals. Repeat this step as the
    window moves.")
ani.start()
par(mar = c(2, 3, 1, 0.5), mgp = c(1.5, 0.5, 0))
mwar.ani(lty.rect = 3, pch = 21, col = "red", bg = "yellow",type='o')
ani.stop()

## End(Not run)
ani.options(oopt)
</pre>

<script Language="JScript">
function findlink(pkg, fn) {
var Y, link;
Y = location.href.lastIndexOf("\\") + 1;
link = location.href.substring(0, Y);
link = link + "../../" + pkg + "/chtml/" + pkg + ".chm::/" + fn;
location.href = link;
}
</script>


<hr><div align="center">[Package <em>animation</em> version 1.0-1 <a href="00Index.html">Index]</a></div>

</body></html>
