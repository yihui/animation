<html><head><title>Convert Images to A Single Animated Movie</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="Rchm.css">
</head>
<body>

<table width="100%"><tr><td>saveMovie(animation)</td><td align="right">R Documentation</td></tr></table><object type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e">
<param name="keyword" value="R:   saveMovie">
<param name="keyword" value=" Convert Images to A Single Animated Movie">
</object>


<h2>Convert Images to A Single Animated Movie</h2>


<h3>Description</h3>

<p>
This function opens a graphical device first to generate a sequence of images based on <code>expr</code>, then makes use of the command <code>convert</code> in `ImageMagick' to convert these images to a single animated movie (in formats such as GIF and MPG, etc).
</p>


<h3>Usage</h3>

<pre>
saveMovie(expr, interval = 1, moviename = "movie", movietype = "gif", 
    loop = 0, dev = png, filename = "Rplot", fmt = "%03d", 
    outdir = tempdir(), para = par(no.readonly = TRUE), ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>expr</code></td>
<td>
an expression to generate animations; use either the animation functions (e.g. <code>brownian.motion()</code>) in this package or a custom expression (e.g. <code>for(i in 1:10) plot(runif(10), ylim = 0:1)</code>). </td></tr>
<tr valign="top"><td><code>interval</code></td>
<td>
duration between animation frames (unit in seconds) </td></tr>
<tr valign="top"><td><code>moviename</code></td>
<td>
file name of the movie (base only, without extension) </td></tr>
<tr valign="top"><td><code>movietype</code></td>
<td>
format of the movie ('gif', 'mpg', ...; as long as it's supported by ImageMagick) </td></tr>
<tr valign="top"><td><code>loop</code></td>
<td>
iterations of the movie; set iterations to zero to repeat the animation an infinite number of times, otherwise the animation repeats itself up to <code>loop</code> times (N.B. for GIF only!) </td></tr>
<tr valign="top"><td><code>dev</code></td>
<td>
a function for a graphical device such as <code><a onclick="findlink('grDevices', 'png.html')" style="text-decoration: underline; color: blue; cursor: hand">png</a></code>, <code><a onclick="findlink('grDevices', 'png.html')" style="text-decoration: underline; color: blue; cursor: hand">jpeg</a></code> and <code><a onclick="findlink('grDevices', 'png.html')" style="text-decoration: underline; color: blue; cursor: hand">bmp</a></code>, etc. </td></tr>
<tr valign="top"><td><code>filename</code></td>
<td>
file name of the sequence of images (`pure' name; without any format or extension) </td></tr>
<tr valign="top"><td><code>fmt</code></td>
<td>
a C-style string formatting command, such as <code>%3d</code>  </td></tr>
<tr valign="top"><td><code>outdir</code></td>
<td>
the directory for the movie frames and the movie itself </td></tr>
<tr valign="top"><td><code>para</code></td>
<td>
a list: the graphics parameters to be set before plotting; passed to <code><a onclick="findlink('graphics', 'par.html')" style="text-decoration: underline; color: blue; cursor: hand">par</a></code> </td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
other arguments passed to the graphical device, such as <code>height</code> and <code>width</code>, ... </td></tr>
</table>

<h3>Details</h3>

<p>
The convenience of this function is that it can create a single movie file, however, two drawbacks are obvious too: (1) we need a special (free) software ImageMagick; (2) the speed of the animation cannot be conveniently controlled, as we have specified a fixed <code>interval</code>. So just go ahead with this function to create your movies if you don't mind these two points.
</p>


<h3>Value</h3>

<p>
An integer indicating failure (-1) or success (0) of the converting (refer to <code><a onclick="findlink('base', 'system.html')" style="text-decoration: underline; color: blue; cursor: hand">system</a></code>).</p>

<h3>Note</h3>

<p>
Please make sure ImageMagick has been installed in your system: <a href="http://www.imagemagick.org">http://www.imagemagick.org</a>
</p>


<h3>Author(s)</h3>

<p>
Yihui Xie
</p>


<h3>References</h3>

<p>
<a href="http://www.imagemagick.org/script/convert.php">http://www.imagemagick.org/script/convert.php</a> 
</p>
<p>
<a href="http://animation.yihui.name/animation:start">http://animation.yihui.name/animation:start</a>
</p>


<h3>See Also</h3>

<p>
<code><a href="saveSWF.html">saveSWF</a></code>, <code><a onclick="findlink('base', 'system.html')" style="text-decoration: underline; color: blue; cursor: hand">system</a></code>, <code><a onclick="findlink('grDevices', 'png.html')" style="text-decoration: underline; color: blue; cursor: hand">png</a></code>, <code><a onclick="findlink('grDevices', 'png.html')" style="text-decoration: underline; color: blue; cursor: hand">jpeg</a></code> and <code><a onclick="findlink('grDevices', 'png.html')" style="text-decoration: underline; color: blue; cursor: hand">bmp</a></code>
</p>


<h3>Examples</h3>

<pre>
## make sure ImageMagick has been installed in your system 
## Not run: 

saveMovie(for(i in 1:10) plot(runif(10), ylim = 0:1), loop = 1)
oopt = ani.options(interval = 0.05, nmax = 100)
saveMovie(brownian.motion(pch = 21, cex = 5, col = "red", bg = "yellow"),
    width = 600, height = 600)
ani.options(oopt)
## End(Not run)
</pre>

<script Language="JScript">
function findlink(pkg, fn) {
var Y, link;
Y = location.href.lastIndexOf("\\") + 1;
link = location.href.substring(0, Y);
link = link + "../../" + pkg + "/chtml/" + pkg + ".chm::/" + fn;
location.href = link;
}
</script>


<hr><div align="center">[Package <em>animation</em> version 1.0-1 <a href="00Index.html">Index]</a></div>

</body></html>
