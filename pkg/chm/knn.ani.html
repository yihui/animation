<html><head><title>Demonstrate kNN classification algorithm on the 2D plane</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="Rchm.css">
</head>
<body>

<table width="100%"><tr><td>knn.ani(animation)</td><td align="right">R Documentation</td></tr></table><object type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e">
<param name="keyword" value="R:   knn.ani">
<param name="keyword" value=" Demonstrate kNN classification algorithm on the 2D plane">
</object>


<h2>Demonstrate kNN classification algorithm on the 2D plane</h2>


<h3>Description</h3>

<p>
Demonstrate the process of k-Nearest Neighbour classification on the 2D plane.
</p>


<h3>Usage</h3>

<pre>
knn.ani(train, test, cl, k = 10, interact = FALSE,
    tt.col = c("blue", "red"), cl.pch = seq_along(unique(cl)),
    dist.lty = 2, dist.col = "gray", knn.col = "green")
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>train</code></td>
<td>
matrix or data frame of training set cases containing only 2 columns </td></tr>
<tr valign="top"><td><code>test</code></td>
<td>
matrix or data frame of test set cases. A vector will be interpreted as a row vector for a single case. It should also contain only 2 columns. This data set will be <EM>ignored</EM> if <code>interact = TRUE</code>; see <code>interact</code> below.</td></tr>
<tr valign="top"><td><code>cl</code></td>
<td>
factor of true classifications of training set  </td></tr>
<tr valign="top"><td><code>k</code></td>
<td>
number of neighbours considered.  </td></tr>
<tr valign="top"><td><code>interact</code></td>
<td>
logical. If <code>TRUE</code>, the user will have to choose a test set for himself using mouse click on the screen; otherwise compute kNN classification based on argument <code>test</code>.</td></tr>
<tr valign="top"><td><code>tt.col</code></td>
<td>
a vector of length 2 specifying the colors for the training data and test data. </td></tr>
<tr valign="top"><td><code>cl.pch</code></td>
<td>
a vector specifying symbols for each class </td></tr>
<tr valign="top"><td><code>dist.lty, dist.col</code></td>
<td>
the line type and color to annotate the distances</td></tr>
<tr valign="top"><td><code>knn.col</code></td>
<td>
the color to annotate the k-nearest neighbour points using a polygon </td></tr>
</table>

<h3>Details</h3>

<p>
For each row of the test set, the <i>k</i> nearest (in Euclidean distance) training set vectors are found, and the classification is decided by majority vote, with ties broken at random. For a single test sample point, the basic steps are:
</p>

<ol>
<li>locate the test point
<li>compute the distances between the test point and all points in the training set 
<li>find <i>k</i> shortest distances and the corresponding training set points
<li>vote for the result (find the maximum in the table for the true classifications) 
</ol> 
</p>
<p>
As there are four steps in an iteration, the total number of animation frames should be <code>4 * min(ani.options("nmax"), nrow(test))</code> at last.
</p>


<h3>Value</h3>

<p>
A vector of class labels for the test set.</p>

<h3>Note</h3>

<p>
There is a special restriction (only two columns) on the training and test data set just for sake of the convenience for making a scatterplot. This is only a rough demonstration; for practical applications, please refer to existing kNN functions such as <code><a onclick="findlink('class', 'knn.html')" style="text-decoration: underline; color: blue; cursor: hand">knn</a></code> in <span class="pkg">class</span>, etc.
</p>
<p>
If either one of <code>train</code> and <code>test</code> is missing, there'll be random matrices prepared for them. (It's the same for <code>cl</code>.)
</p>


<h3>Author(s)</h3>

<p>
Yihui Xie
</p>


<h3>References</h3>

<p>
Venables, W. N. and Ripley, B. D. (2002) <EM>Modern Applied Statistics with S</EM>. Fourth edition. Springer.
</p>
<p>
<a href="http://animation.yihui.name/dmml:k-nearest_neighbour_algorithm">http://animation.yihui.name/dmml:k-nearest_neighbour_algorithm</a>
</p>


<h3>See Also</h3>

<p>
<code><a onclick="findlink('class', 'knn.html')" style="text-decoration: underline; color: blue; cursor: hand">knn</a></code>
</p>


<h3>Examples</h3>

<pre>
## a binary classification problem 
oopt = ani.options(interval = 2, nmax = 10)
x = matrix(c(rnorm(80, mean = -1), rnorm(80, mean = 1)),
    ncol = 2, byrow = TRUE) 
y = matrix(rnorm(20, mean = 0, sd = 1.2), ncol = 2) 
knn.ani(train = x, test = y, cl = rep(c("first class", "second class"),
    each = 40), k = 30)

x = matrix(c(rnorm(30, mean = -2), rnorm(30, mean = 2),
    rnorm(30, mean = 0)), ncol = 2, byrow = TRUE)
y = matrix(rnorm(20, sd = 2), ncol = 2)
knn.ani(train = x, test = y, cl = rep(c("first", "second", "third"),
    each = 15), k = 25, cl.pch = c(2, 3, 19), dist.lty = 3)

## Not run:  
# an interactive demo: choose the test set by mouse-clicking
ani.options(nmax = 5)
knn.ani(interact = TRUE)

ani.options(ani.height = 500, ani.width = 600, outdir = getwd(), nmax = 10,
    interval = 2, title = "Demonstration for kNN Classification",
    description = "For each row of the test set, the k nearest (in Euclidean
    distance) training set vectors are found, and the classification is
    decided by majority vote, with ties broken at random.")
ani.start()
par(mar = c(3, 3, 1, 0.5), mgp = c(1.5, 0.5, 0))
knn.ani()
ani.stop()

## End(Not run)
ani.options(oopt)
</pre>

<script Language="JScript">
function findlink(pkg, fn) {
var Y, link;
Y = location.href.lastIndexOf("\\") + 1;
link = location.href.substring(0, Y);
link = link + "../../" + pkg + "/chtml/" + pkg + ".chm::/" + fn;
location.href = link;
}
</script>


<hr><div align="center">[Package <em>animation</em> version 1.0-0 <a href="00Index.html">Index]</a></div>

</body></html>
