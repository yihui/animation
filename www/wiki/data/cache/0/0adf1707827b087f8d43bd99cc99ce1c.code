<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=library"><span class="kw4">library</span></a><span class="br0">&#40;</span>animation<span class="br0">&#41;</span>
<span class="co3"># gradient descent works</span>
<span class="re5">oopt</span> = ani.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=options"><span class="kw4">options</span></a><span class="br0">&#40;</span>ani<span class="re5">.height</span> = <span class="nu0">500</span>, ani<span class="re5">.width</span> = <span class="nu0">500</span>, <span class="re5">outdir</span> = <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=getwd"><span class="kw4">getwd</span></a><span class="br0">&#40;</span><span class="br0">&#41;</span>, <span class="re5">interval</span> = 0<span class="re5">.3</span>,
    <span class="re5">nmax</span> = <span class="nu0">50</span>, <span class="re5">title</span> = <span class="st0">&quot;Demonstration of the Gradient Descent Algorithm&quot;</span>,
    <span class="re5">description</span> = <span class="st0">&quot;The arrows will take you to the optimum step by step.&quot;</span><span class="br0">&#41;</span>
ani.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=start"><span class="kw3">start</span></a><span class="br0">&#40;</span><span class="br0">&#41;</span>
grad.desc<span class="br0">&#40;</span><span class="br0">&#41;</span>
ani.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=stop"><span class="kw4">stop</span></a><span class="br0">&#40;</span><span class="br0">&#41;</span>
ani.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=options"><span class="kw4">options</span></a><span class="br0">&#40;</span>oopt<span class="br0">&#41;</span>
&nbsp;
<span class="co3"># gradient descent fails</span>
<span class="re5">oopt</span> = ani.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=options"><span class="kw4">options</span></a><span class="br0">&#40;</span>ani<span class="re5">.height</span> = <span class="nu0">480</span>, ani<span class="re5">.width</span> = <span class="nu0">480</span>, <span class="re5">outdir</span> = <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=getwd"><span class="kw4">getwd</span></a><span class="br0">&#40;</span><span class="br0">&#41;</span>, <span class="re5">interval</span> = 0<span class="re5">.2</span>,
    <span class="re5">nmax</span> = <span class="nu0">70</span>, <span class="re5">title</span> = <span class="st0">&quot;When Gradient Descent Algorithm Fails&quot;</span>,
    <span class="re5">description</span> = <span class="st0">&quot;This example shows how the gradient descent algorithm will fail with 
    a too large step length.&quot;</span><span class="br0">&#41;</span>
ani.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=start"><span class="kw3">start</span></a><span class="br0">&#40;</span><span class="br0">&#41;</span>
<span class="re5">f2</span> = <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=function"><span class="kw1">function</span></a><span class="br0">&#40;</span><span class="re5">x</span>, y<span class="br0">&#41;</span> <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=sin"><span class="kw4">sin</span></a><span class="br0">&#40;</span><span class="nu0">1</span>/<span class="nu0">2</span> * x^<span class="nu0">2</span> - <span class="nu0">1</span>/<span class="nu0">4</span> * y^<span class="nu0">2</span> + <span class="nu0">3</span><span class="br0">&#41;</span> *
    <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=cos"><span class="kw4">cos</span></a><span class="br0">&#40;</span><span class="nu0">2</span> * x + <span class="nu0">1</span> - <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=exp"><span class="kw4">exp</span></a><span class="br0">&#40;</span>y<span class="br0">&#41;</span><span class="br0">&#41;</span>
grad.desc<span class="br0">&#40;</span><span class="re5">f2</span>, <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=c"><span class="kw3">c</span></a><span class="br0">&#40;</span>-<span class="nu0">2</span>, -<span class="nu0">2</span>, <span class="nu0">2</span>, <span class="nu0">2</span><span class="br0">&#41;</span>, <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=c"><span class="kw3">c</span></a><span class="br0">&#40;</span>-<span class="nu0">1</span>, <span class="nu0">0.5</span><span class="br0">&#41;</span>, <span class="re5">gamma</span> = 0<span class="re5">.3</span>, <span class="re5">tol</span> = 1e-04<span class="br0">&#41;</span>
ani.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=stop"><span class="kw4">stop</span></a><span class="br0">&#40;</span><span class="br0">&#41;</span>
ani.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=options"><span class="kw4">options</span></a><span class="br0">&#40;</span>oopt<span class="br0">&#41;</span>