


<h1><a name="animation_plugin_for_creating_animations" id="animation_plugin_for_creating_animations">Animation Plugin (for creating animations)</a></h1>
<div class="level1">

<p>

The <code>animation</code> plugin can generate an animation from a sequence of images, e.g. 1.png, 2.png, 3.png, … The animation is driven by <acronym title="HyperText Markup Language">HTML</acronym> &amp; <acronym title="JavaScript">JS</acronym>.
</p>

</div>
<!-- SECTION "Animation Plugin (for creating animations)" [1-205] -->
<h2><a name="download_and_install" id="download_and_install">Download and Install</a></h2>
<div class="level2">

<p>

Plugin source: <a href="/_media/wiki:animation.zip" class="media mediafile mf_zip" title="wiki:animation.zip">zip format (3.99K)</a> (last updated on 2008-06-04)
</p>

<p>
For people who would like to create animations in this wiki, the above file does not need to be downloaded (just follow the instructions below) – it is merely for Dokuwiki system administrators.
</p>

</div>
<!-- SECTION "Download and Install" [206-523] -->
<h2><a name="requirement" id="requirement">Requirement</a></h2>
<div class="level2">

<p>

This plugin mainly depends on JavaScript to run, so make sure your browser supports <acronym title="JavaScript">JS</acronym> (or <acronym title="JavaScript">JS</acronym> has been enabled).
</p>

</div>
<!-- SECTION "Requirement" [524-662] -->
<h2><a name="usage" id="usage">Usage</a></h2>
<div class="level2">

<p>

The basic syntax:
</p>
<pre class="code">
&lt;ani id url type max height interval|title&gt;
description
&lt;/ani&gt;
</pre>

<p>
There are 8 parameters in total:

</p>
<ul>
<li class="level1"><div class="li"> <strong>id</strong>: a <em>unique</em> identifer of each animation in the same page.</div>
</li>
<li class="level1"><div class="li"> <strong>url</strong>: the <em>directory</em> of the animation frames. <img src="/lib/images/smileys/icon_exclaim.gif" class="middle" alt=":!:" /> NOT the actual <acronym title="Uniform Resource Locator">URL</acronym> of any animation frames; only a directory!</div>
</li>
<li class="level1"><div class="li"> <strong>type</strong>: the image format. E.g. <code>png</code>, <code>jpeg</code>, etc.</div>
</li>
<li class="level1"><div class="li"> <strong>max</strong>: the maximum number of animation frames; an integer.</div>
</li>
<li class="level1"><div class="li"> <strong>height</strong>: the height of animation frames in pixel; an integer.</div>
</li>
<li class="level1"><div class="li"> <strong>interval</strong>: the time interval (duration) between animation frames; a non-negative real number.</div>
</li>
<li class="level1"><div class="li"> <strong>title</strong>: the title of the animation.</div>
</li>
<li class="level1"><div class="li"> <strong>description</strong>: a description of the animation.</div>
</li>
</ul>

<p>

Please do note that the first 6 parameters are seperated by spaces, while the 7th parameter is seperated by ”<code>|</code>” and the last one is in the body of the <code>&lt;ani&gt;</code> tag; besides, none of these parameters are optional, i.e. you must set the values for all of them.
</p>

</div>
<!-- SECTION "Usage" [663-1664] -->
<h2><a name="how_does_the_plugin_work" id="how_does_the_plugin_work">How does the plugin work</a></h2>
<div class="level2">

<p>

You can be more clear about the above parameters if you know the detailed process to generate an animation:

</p>
<ol>
<li class="level1"><div class="li"> First some <acronym title="HyperText Markup Language">HTML</acronym> elements are created and distinguished by <code>id</code> (that&#039;s why it should be unique for each animation in the same page)</div>
</li>
<li class="level1"><div class="li"> A block of <acronym title="JavaScript">JS</acronym> code is written to (1) catenate <code>url</code>, the numbers from 1 to <code>max</code>, and <code>type</code> to generate the locations of the images frames (2) download all the animation frames and store them in the <acronym title="HyperText Markup Language">HTML</acronym> elements; during this process, there is a bar showing the progress of downloading</div>
</li>
<li class="level1"><div class="li"> After all the animation frames are downloaded, the progress bar disappears and the animation&#039;s height is set to <code>height</code></div>
</li>
<li class="level1"><div class="li"> The time interval of the animation is set to <code>interval</code>; the <code>title</code> is written in the top of the animation; the <code>description</code> is written in the bottom</div>
</li>
</ol>

</div>
<!-- SECTION "How does the plugin work" [1665-2536] -->
<h2><a name="how_does_the_animation_work" id="how_does_the_animation_work">How does the animation work</a></h2>
<div class="level2">

<p>

The method is quite naive: just change the <acronym title="Cascading Style Sheets">CSS</acronym> attribute <code>display</code> of all the images to show the <em>i</em>-th frame in a loop and hide all the other frames, for <code>i = 1, 2, …, max</code>. 
</p>

<p>
The time interval between animation frames is controlled by two <acronym title="JavaScript">JS</acronym> functions <code>setTimeout()</code> and <code>clearTimeout()</code>.
</p>

</div>
<!-- SECTION "How does the animation work" [2537-2881] -->
<h2><a name="the_animation_interface" id="the_animation_interface">The animation interface</a></h2>
<div class="level2">

<p>

The interface just looks like a media player, so perhaps you can figure out what these buttons do without the explanation below.
</p>

<p>
<a href="/_detail/wiki:animation_interface.png?id=wiki%3Aanimation_plugin" class="media" title="wiki:animation_interface.png"><img src="/_media/wiki:animation_interface.png" class="mediacenter" title="The interface of the animation environment" alt="The interface of the animation environment" /></a>
</p>

<p>
The functions of the 9 buttons in the interface are as follows:

</p>
<ol>
<li class="level1"><div class="li"> <code><strong>&gt;</strong></code> Play;</div>
</li>
<li class="level1"><div class="li"> <code><strong>O</strong></code> Pause;</div>
</li>
<li class="level1"><div class="li"> <code><strong>+</strong></code> Increase the speed of demonstrating animation frames one by one; the step of increasing is determined in the text field (initially hidden; see the last button)</div>
</li>
<li class="level1"><div class="li"> <code><strong>-</strong></code> Slow down the animation;</div>
</li>
<li class="level1"><div class="li"> <code><strong>&lt;&lt;</strong></code> The previous frame;</div>
</li>
<li class="level1"><div class="li"> <code><strong>&gt;&gt;</strong></code> The next frame;</div>
</li>
<li class="level1"><div class="li"> <code><strong>|&lt;</strong></code> The first frame;</div>
</li>
<li class="level1"><div class="li"> <code><strong>&gt;|</strong></code> The last frame;</div>
</li>
<li class="level1"><div class="li"> <code><strong>&lt;&gt;</strong></code> A switch to show/hide more controls below;</div>
</li>
</ol>

<p>

<a href="/_detail/wiki:animation_controls.png?id=wiki%3Aanimation_plugin" class="media" title="wiki:animation_controls.png"><img src="/_media/wiki:animation_controls.png" class="mediacenter" title="More controls for the animation" alt="More controls for the animation" /></a>
</p>

<p>
You can also change the values in the text fields when they are visible. Leave the fields to implement the changes. For the check box <code>Loop</code>, when it is checked, the animation will be played over and over again, else it will be only played once.
</p>

</div>
<!-- SECTION "The animation interface" [2882-3960] -->
<h2><a name="example" id="example">Example</a></h2>
<div class="level2">

<p>

Suppose we have created a sequence of 30 images with height equal to 300px: <code>1.png, 2.png, 3.png, …, 30.png</code>, and they are in this directory <code>”http://animation.yihui.name/_media/wiki:”</code>. Now we wish to create an animation in this wiki specifying the initial time interval to be <code>0.1</code>:
</p>
<pre class="code">
&lt;ani example http://animation.yihui.name/_media/wiki: 
png 30 300 0.1|An animation example&gt;
Here is the description for the animation.
&lt;/ani&gt;
</pre>

<p>
Here is an <a href="/wiki:animation_example" class="wikilink1" title="wiki:animation_example">example page</a>, and you can find even more in this wiki.
</p>

</div>
<!-- SECTION "Example" [3961-4531] -->
<h2><a name="discussion" id="discussion">Discussion</a></h2>
<div class="level2">

<p>

Write your feedbacks here. <img src="/lib/images/smileys/icon_cool.gif" class="middle" alt="8-)" />
</p>

</div>
<!-- SECTION "Discussion" [4532-] -->