<span class="re3"> &gt;</span> tidy.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=source"><span class="kw4">source</span></a>
<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=function"><span class="kw1">function</span></a><span class="br0">&#40;</span><span class="re5">source</span> = <span class="st0">&quot;clipboard&quot;</span>, keep<span class="re5">.comment</span> = <span class="re1">TRUE\</span>, 
    keep.blank<span class="re5">.line</span> = <span class="re1">FALSE\</span>, begin<span class="re5">.comment</span>, <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=end"><span class="kw3">end</span></a><span class="re5">.comment</span>, ...<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    tidy<span class="re5">.block</span> = <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=function"><span class="kw1">function</span></a><span class="br0">&#40;</span>block.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=text"><span class="kw3">text</span></a><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="re5">exprs</span> = <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=parse"><span class="kw4">parse</span></a><span class="br0">&#40;</span><span class="re5">text</span> = block.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=text"><span class="kw3">text</span></a><span class="br0">&#41;</span>
        <span class="re5">n</span> = <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=length"><span class="kw3">length</span></a><span class="br0">&#40;</span>exprs<span class="br0">&#41;</span>
        <span class="re5">res</span> = <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=character"><span class="kw4">character</span></a><span class="br0">&#40;</span>n<span class="br0">&#41;</span>
        <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=for"><span class="kw1">for</span></a> <span class="br0">&#40;</span>i <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=in"><span class="kw1">in</span></a> <span class="nu0">1</span>:n<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <span class="re5">dep</span> = <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=paste"><span class="kw4">paste</span></a><span class="br0">&#40;</span><a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=deparse"><span class="kw4">deparse</span></a><span class="br0">&#40;</span>exprs<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#41;</span>, <span class="re5">collapse</span> = <span class="st0">&quot;<span class="es0">\n</span>&quot;</span><span class="br0">&#41;</span>
            res<span class="br0">&#91;</span>i<span class="br0">&#93;</span> = <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=substring"><span class="kw4">substring</span></a><span class="br0">&#40;</span><span class="re5">dep</span>, <span class="nu0">12</span>, <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=nchar"><span class="kw4">nchar</span></a><span class="br0">&#40;</span>dep<span class="br0">&#41;</span> - <span class="nu0">1</span><span class="br0">&#41;</span>
        <span class="br0">&#125;</span>
        <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=return"><span class="kw4">return</span></a><span class="br0">&#40;</span>res<span class="br0">&#41;</span>
    <span class="br0">&#125;</span>
    <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=text"><span class="kw3">text</span></a><span class="re5">.lines</span> = <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=readLines"><span class="kw4">readLines</span></a><span class="br0">&#40;</span><span class="re5">source</span>, <span class="re5">warn</span> = <span class="re1">FALSE\</span><span class="br0">&#41;</span>
    <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=if"><span class="kw1">if</span></a> <span class="br0">&#40;</span>keep.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=comment"><span class="kw4">comment</span></a><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="re5">identifier</span> = <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=function"><span class="kw1">function</span></a><span class="br0">&#40;</span><span class="br0">&#41;</span> <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=paste"><span class="kw4">paste</span></a><span class="br0">&#40;</span><a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=sample"><span class="kw4">sample</span></a><span class="br0">&#40;</span><a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=LETTERS"><span class="kw4">LETTERS</span></a><span class="br0">&#41;</span>, <span class="re5">collapse</span> = <span class="st0">&quot;&quot;</span><span class="br0">&#41;</span>
        <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=if"><span class="kw1">if</span></a> <span class="br0">&#40;</span><a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=missing"><span class="kw4">missing</span></a><span class="br0">&#40;</span>begin.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=comment"><span class="kw4">comment</span></a><span class="br0">&#41;</span><span class="br0">&#41;</span> 
            begin<span class="re5">.comment</span> = identifier<span class="br0">&#40;</span><span class="br0">&#41;</span>
        <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=if"><span class="kw1">if</span></a> <span class="br0">&#40;</span><a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=missing"><span class="kw4">missing</span></a><span class="br0">&#40;</span><a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=end"><span class="kw3">end</span></a>.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=comment"><span class="kw4">comment</span></a><span class="br0">&#41;</span><span class="br0">&#41;</span> 
            <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=end"><span class="kw3">end</span></a><span class="re5">.comment</span> = identifier<span class="br0">&#40;</span><span class="br0">&#41;</span>
        <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=text"><span class="kw3">text</span></a><span class="re5">.lines</span> = <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=gsub"><span class="kw4">gsub</span></a><span class="br0">&#40;</span><span class="st0">&quot;^[[:space:]]+|[[:space:]]+$&quot;</span>, <span class="st0">&quot;&quot;</span>, 
            <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=text"><span class="kw3">text</span></a>.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=lines"><span class="kw3">lines</span></a><span class="br0">&#41;</span>
        <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=while"><span class="kw1">while</span></a> <span class="br0">&#40;</span><a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=length"><span class="kw3">length</span></a><span class="br0">&#40;</span><a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=grep"><span class="kw4">grep</span></a><span class="br0">&#40;</span><a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=sprintf"><span class="kw4">sprintf</span></a><span class="br0">&#40;</span><span class="st0">&quot;%s|%s&quot;</span>, begin<span class="re5">.comment</span>, <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=end"><span class="kw3">end</span></a>.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=comment"><span class="kw4">comment</span></a><span class="br0">&#41;</span>, 
            <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=text"><span class="kw3">text</span></a>.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=lines"><span class="kw3">lines</span></a><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
            begin<span class="re5">.comment</span> = identifier<span class="br0">&#40;</span><span class="br0">&#41;</span>
            <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=end"><span class="kw3">end</span></a><span class="re5">.comment</span> = identifier<span class="br0">&#40;</span><span class="br0">&#41;</span>
        <span class="br0">&#125;</span>
        <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=head"><span class="kw3">head</span></a><span class="re5">.comment</span> = <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=substring"><span class="kw4">substring</span></a><span class="br0">&#40;</span><a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=text"><span class="kw3">text</span></a><span class="re5">.lines</span>, <span class="nu0">1</span>, <span class="nu0">1</span><span class="br0">&#41;</span> == <span class="st0">&quot;#&quot;</span>
        <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=if"><span class="kw1">if</span></a> <span class="br0">&#40;</span><a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=any"><span class="kw3">any</span></a><span class="br0">&#40;</span><a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=head"><span class="kw3">head</span></a>.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=comment"><span class="kw4">comment</span></a><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=text"><span class="kw3">text</span></a>.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=lines"><span class="kw3">lines</span></a><span class="br0">&#91;</span><a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=head"><span class="kw3">head</span></a>.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=comment"><span class="kw4">comment</span></a><span class="br0">&#93;</span> = <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=gsub"><span class="kw4">gsub</span></a><span class="br0">&#40;</span><span class="st0">&quot;<span class="es0">\&quot;</span>&quot;</span>, <span class="st0">&quot;'&quot;</span>, <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=text"><span class="kw3">text</span></a>.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=lines"><span class="kw3">lines</span></a><span class="br0">&#91;</span><a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=head"><span class="kw3">head</span></a>.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=comment"><span class="kw4">comment</span></a><span class="br0">&#93;</span><span class="br0">&#41;</span>
            <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=text"><span class="kw3">text</span></a>.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=lines"><span class="kw3">lines</span></a><span class="br0">&#91;</span><a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=head"><span class="kw3">head</span></a>.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=comment"><span class="kw4">comment</span></a><span class="br0">&#93;</span> = <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=sprintf"><span class="kw4">sprintf</span></a><span class="br0">&#40;</span><span class="st0">&quot;%s=<span class="es0">\&quot;</span>%s%s<span class="es0">\&quot;</span>&quot;</span>, 
                begin<span class="re5">.comment</span>, <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=text"><span class="kw3">text</span></a>.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=lines"><span class="kw3">lines</span></a><span class="br0">&#91;</span><a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=head"><span class="kw3">head</span></a>.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=comment"><span class="kw4">comment</span></a><span class="br0">&#93;</span>, <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=end"><span class="kw3">end</span></a>.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=comment"><span class="kw4">comment</span></a><span class="br0">&#41;</span>
        <span class="br0">&#125;</span>
        blank<span class="re5">.line</span> = <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=text"><span class="kw3">text</span></a><span class="re5">.lines</span> == <span class="st0">&quot;&quot;</span>
        <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=if"><span class="kw1">if</span></a> <span class="br0">&#40;</span><a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=any"><span class="kw3">any</span></a><span class="br0">&#40;</span>blank.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=line"><span class="kw4">line</span></a><span class="br0">&#41;</span> &amp; keep.blank.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=line"><span class="kw4">line</span></a><span class="br0">&#41;</span> 
            <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=text"><span class="kw3">text</span></a>.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=lines"><span class="kw3">lines</span></a><span class="br0">&#91;</span>blank.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=line"><span class="kw4">line</span></a><span class="br0">&#93;</span> = <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=sprintf"><span class="kw4">sprintf</span></a><span class="br0">&#40;</span><span class="st0">&quot;%s=<span class="es0">\&quot;</span>%s<span class="es0">\&quot;</span>&quot;</span>, begin<span class="re5">.comment</span>, 
                <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=end"><span class="kw3">end</span></a>.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=comment"><span class="kw4">comment</span></a><span class="br0">&#41;</span>
        <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=text"><span class="kw3">text</span></a><span class="re5">.tidy</span> = tidy.block<span class="br0">&#40;</span><a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=text"><span class="kw3">text</span></a>.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=lines"><span class="kw3">lines</span></a><span class="br0">&#41;</span>
        <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=text"><span class="kw3">text</span></a><span class="re5">.tidy</span> = <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=gsub"><span class="kw4">gsub</span></a><span class="br0">&#40;</span><a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=sprintf"><span class="kw4">sprintf</span></a><span class="br0">&#40;</span><span class="st0">&quot;%s = <span class="es0">\&quot;</span>|%s<span class="es0">\&quot;</span>&quot;</span>, begin<span class="re5">.comment</span>, 
            <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=end"><span class="kw3">end</span></a>.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=comment"><span class="kw4">comment</span></a><span class="br0">&#41;</span>, <span class="st0">&quot;&quot;</span>, <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=text"><span class="kw3">text</span></a>.tidy<span class="br0">&#41;</span>
    <span class="br0">&#125;</span>
    <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=else"><span class="kw1">else</span></a> <span class="br0">&#123;</span>
        <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=text"><span class="kw3">text</span></a><span class="re5">.tidy</span> = tidy.block<span class="br0">&#40;</span><a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=text"><span class="kw3">text</span></a>.<a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=lines"><span class="kw3">lines</span></a><span class="br0">&#41;</span>
    <span class="br0">&#125;</span>
    <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=cat"><span class="kw4">cat</span></a><span class="br0">&#40;</span><a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=paste"><span class="kw4">paste</span></a><span class="br0">&#40;</span><a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=text"><span class="kw3">text</span></a><span class="re5">.tidy</span>, <span class="re5">collapse</span> = <span class="st0">&quot;<span class="es0">\n</span>&quot;</span><span class="br0">&#41;</span>, <span class="st0">&quot;<span class="es0">\n</span>&quot;</span>, ...<span class="br0">&#41;</span>
    <a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=invisible"><span class="kw4">invisible</span></a><span class="br0">&#40;</span><a target="_blank"  href="http://wiki.r-project.org/rwiki/rhelp.php?id=text"><span class="kw3">text</span></a>.tidy<span class="br0">&#41;</span>
<span class="br0">&#125;</span>